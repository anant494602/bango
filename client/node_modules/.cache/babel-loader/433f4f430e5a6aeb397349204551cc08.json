{"ast":null,"code":"import _objectSpread from \"/Users/anantkumar32/Desktop/bango-final/ecommerce-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/anantkumar32/Desktop/bango-final/ecommerce-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anantkumar32/Desktop/bango-final/ecommerce-front/src/core/Shop.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport Card from \"./Card\";\nimport { getCategories, getFilteredProducts } from \"./apiCore\";\nimport Checkbox from \"./Checkbox\";\nimport RadioBox from \"./RadioBox\";\nimport Accordion from 'react-bootstrap/Accordion';\nimport { prices } from \"./fixedPrices\";\nimport './coreStyle/shopComponent.css';\n\nconst Shop = () => {\n  const _useState = useState({\n    filters: {\n      category: [],\n      price: []\n    }\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        myFilters = _useState2[0],\n        setMyFilters = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        categories = _useState4[0],\n        setCategories = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        error = _useState6[0],\n        setError = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        accordion1 = _useState8[0],\n        setaccordion1 = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        accordion2 = _useState10[0],\n        setaccordion2 = _useState10[1];\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        accordion3 = _useState12[0],\n        setaccordion3 = _useState12[1];\n\n  const _useState13 = useState(false),\n        _useState14 = _slicedToArray(_useState13, 2),\n        accordion4 = _useState14[0],\n        setaccordion4 = _useState14[1];\n\n  const _useState15 = useState(6),\n        _useState16 = _slicedToArray(_useState15, 2),\n        limit = _useState16[0],\n        setLimit = _useState16[1];\n\n  const _useState17 = useState(0),\n        _useState18 = _slicedToArray(_useState17, 2),\n        skip = _useState18[0],\n        setSkip = _useState18[1];\n\n  const _useState19 = useState(0),\n        _useState20 = _slicedToArray(_useState19, 2),\n        size = _useState20[0],\n        setSize = _useState20[1];\n\n  const _useState21 = useState([]),\n        _useState22 = _slicedToArray(_useState21, 2),\n        filteredResults = _useState22[0],\n        setFilteredResults = _useState22[1];\n\n  const init = () => {\n    getCategories().then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setCategories(data);\n      }\n    });\n  };\n\n  const loadFilteredResults = newFilters => {\n    // console.log(newFilters);\n    getFilteredProducts(skip, limit, newFilters).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setFilteredResults(data.data);\n        setSize(data.size);\n        setSkip(0);\n      }\n    });\n  };\n\n  const loadMore = () => {\n    let toSkip = skip + limit; // console.log(newFilters);\n\n    getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setFilteredResults([...filteredResults, ...data.data]);\n        setSize(data.size);\n        setSkip(toSkip);\n      }\n    });\n  };\n\n  const loadMoreButton = () => {\n    return size > 0 && size >= limit && React.createElement(\"button\", {\n      onClick: loadMore,\n      className: \"btn btn-warning mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Load more\");\n  };\n\n  useEffect(() => {\n    init();\n    loadFilteredResults(skip, limit, myFilters.filters);\n  }, []);\n\n  const handleFilters = (filters, filterBy) => {\n    // console.log(\"SHOP\", filters, filterBy);\n    const newFilters = _objectSpread({}, myFilters);\n\n    newFilters.filters[filterBy] = filters;\n\n    if (filterBy === \"price\") {\n      let priceValues = handlePrice(filters);\n      newFilters.filters[filterBy] = priceValues;\n    }\n\n    loadFilteredResults(myFilters.filters);\n    setMyFilters(newFilters);\n  };\n\n  const handlePrice = value => {\n    const data = prices;\n    let array = [];\n\n    for (let key in data) {\n      if (data[key]._id === parseInt(value)) {\n        array = data[key].array;\n      }\n    }\n\n    return array;\n  };\n\n  const handleClick1 = () => {\n    setaccordion1(!accordion1);\n    setaccordion2(false);\n  };\n\n  const handleClick2 = () => {\n    setaccordion2(!accordion2);\n    setaccordion1(false);\n  };\n\n  return React.createElement(Layout, {\n    title: \"Shop Page\",\n    description: \"Search and find products of your choice\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-3 pannel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"bango-accordion\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    onClick: handleClick1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"Filter by price Category \", accordion1 ? React.createElement(\"i\", {\n    class: \"fa fa-minus-circle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }) : React.createElement(\"i\", {\n    class: \"fa fa-plus-circle \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  })), React.createElement(\"ul\", {\n    className: accordion1 ? 'show1' : 'hide1',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(Checkbox, {\n    categories: categories,\n    handleFilters: filters => handleFilters(filters, \"category\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"bango-accordion\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    onClick: handleClick2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"Filter by price range \", accordion2 ? React.createElement(\"i\", {\n    class: \"fa fa-minus-circle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }) : React.createElement(\"i\", {\n    class: \"fa fa-plus-circle \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: accordion2 ? 'show2' : 'hide2',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(RadioBox, {\n    prices: prices,\n    handleFilters: filters => handleFilters(filters, \"price\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"col-9 pannel-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"Products\"), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, filteredResults.map((product, i) => React.createElement(\"div\", {\n    key: i,\n    className: \"col-4 mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(Card, {\n    product: product,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  })))), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }), loadMoreButton())));\n};\n\nexport default Shop;","map":{"version":3,"sources":["/Users/anantkumar32/Desktop/bango-final/ecommerce-front/src/core/Shop.js"],"names":["React","useState","useEffect","Layout","Card","getCategories","getFilteredProducts","Checkbox","RadioBox","Accordion","prices","Shop","filters","category","price","myFilters","setMyFilters","categories","setCategories","error","setError","accordion1","setaccordion1","accordion2","setaccordion2","accordion3","setaccordion3","accordion4","setaccordion4","limit","setLimit","skip","setSkip","size","setSize","filteredResults","setFilteredResults","init","then","data","loadFilteredResults","newFilters","loadMore","toSkip","loadMoreButton","handleFilters","filterBy","priceValues","handlePrice","value","array","key","_id","parseInt","handleClick1","handleClick2","map","product","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport Card from \"./Card\";\nimport { getCategories, getFilteredProducts } from \"./apiCore\";\nimport Checkbox from \"./Checkbox\";\nimport RadioBox from \"./RadioBox\";\nimport Accordion from 'react-bootstrap/Accordion'\nimport { prices } from \"./fixedPrices\";\nimport './coreStyle/shopComponent.css'\n\nconst Shop = () => {\n    const [myFilters, setMyFilters] = useState({\n        filters: { category: [], price: [] }\n    });\n    const [categories, setCategories] = useState([]);\n    const [error, setError] = useState(false);\n    const [accordion1, setaccordion1] = useState(false);\n    const [accordion2, setaccordion2] = useState(false);\n    const [accordion3, setaccordion3] = useState(false);\n    const [accordion4, setaccordion4] = useState(false);\n    const [limit, setLimit] = useState(6);\n    const [skip, setSkip] = useState(0);\n    const [size, setSize] = useState(0);\n    const [filteredResults, setFilteredResults] = useState([]);\n\n    const init = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setCategories(data);\n            }\n        });\n    };\n\n    const loadFilteredResults = newFilters => {\n        // console.log(newFilters);\n        getFilteredProducts(skip, limit, newFilters).then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setFilteredResults(data.data);\n                setSize(data.size);\n                setSkip(0);\n            }\n        });\n    };\n\n    const loadMore = () => {\n        let toSkip = skip + limit;\n        // console.log(newFilters);\n        getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setFilteredResults([...filteredResults, ...data.data]);\n                setSize(data.size);\n                setSkip(toSkip);\n            }\n        });\n    };\n\n    const loadMoreButton = () => {\n        return (\n            size > 0 &&\n            size >= limit && (\n                <button onClick={loadMore} className=\"btn btn-warning mb-5\">\n                    Load more\n                </button>\n            )\n        );\n    };\n\n    useEffect(() => {\n        init();\n        loadFilteredResults(skip, limit, myFilters.filters);\n    }, []);\n\n    const handleFilters = (filters, filterBy) => {\n        // console.log(\"SHOP\", filters, filterBy);\n        const newFilters = { ...myFilters };\n        newFilters.filters[filterBy] = filters;\n\n        if (filterBy === \"price\") {\n            let priceValues = handlePrice(filters);\n            newFilters.filters[filterBy] = priceValues;\n        }\n        loadFilteredResults(myFilters.filters);\n        setMyFilters(newFilters);\n    };\n\n    const handlePrice = value => {\n        const data = prices;\n        let array = [];\n\n        for (let key in data) {\n            if (data[key]._id === parseInt(value)) {\n                array = data[key].array;\n            }\n        }\n        return array;\n    };\n    const handleClick1=()=>{\n        setaccordion1(!accordion1);\n        setaccordion2(false);\n\n    }\n    const handleClick2=()=>{\n        setaccordion2(!accordion2);\n        setaccordion1(false);\n\n    }\n\n    return (\n        <Layout\n            title=\"Shop Page\"\n            description=\"Search and find products of your choice\"\n        >\n            <div className=\"row\">\n                <div className=\"col-3 pannel\">\n                    <div className='bango-accordion'>\n                    <h4 onClick={handleClick1}>Filter by price Category {accordion1 ? <i class=\"fa fa-minus-circle\" ></i>:<i class=\"fa fa-plus-circle \" ></i>}</h4>\n                        <ul className={accordion1 ? 'show1' : 'hide1'}>\n                            <Checkbox\n                                categories={categories}\n                                handleFilters={filters =>\n                                    handleFilters(filters, \"category\")\n                                }\n                            />\n                        </ul>\n                    </div>\n                <div className='bango-accordion'>\n                    <h4 onClick={handleClick2}>Filter by price range {accordion2 ? <i class=\"fa fa-minus-circle\" ></i>:<i class=\"fa fa-plus-circle \" ></i>}</h4>\n                    <div className={accordion2 ? 'show2' : 'hide2'}>\n                        <RadioBox\n                            prices={prices}\n                            handleFilters={filters =>\n                                handleFilters(filters, \"price\")\n                            }\n                        />\n                    </div>\n                    </div>\n                \n                </div>\n    \n\n                <div className=\"col-9 pannel-content\">\n                    <h2 className=\"mb-4\">Products</h2>\n                    <div className=\"row\">\n                        {filteredResults.map((product, i) => (\n                            <div key={i} className=\"col-4 mb-3\">\n                                <Card product={product} />\n                            </div>\n                        ))}\n                    </div>\n                    <hr />\n                    {loadMoreButton()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Shop;\n"]},"metadata":{},"sourceType":"module"}