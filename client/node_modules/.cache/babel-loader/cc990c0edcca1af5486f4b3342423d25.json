{"ast":null,"code":"import _slicedToArray from \"/Users/anantkumar32/Desktop/bango/bango-shopping/ecommerce-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anantkumar32/Desktop/bango/bango-shopping/ecommerce-front/src/user/UserDashboard.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { getPurchaseHistory } from \"./apiUser\";\nimport moment from \"moment\";\nimport LeftPanelCustomerComponent from '../utils/LeftPanelCustomerComponent';\nimport { setUserId } from \"../redux/action\";\nimport { useDispatch } from 'react-redux';\nimport '../user/userCSS/admindasboard.css';\n\nconst Dashboard = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        history = _useState2[0],\n        setHistory = _useState2[1];\n\n  const dispatch = useDispatch();\n\n  const _isAuthenticated = isAuthenticated(),\n        _isAuthenticated$user = _isAuthenticated.user,\n        _id = _isAuthenticated$user._id,\n        name = _isAuthenticated$user.name,\n        email = _isAuthenticated$user.email,\n        role = _isAuthenticated$user.role;\n\n  const token = isAuthenticated().token;\n\n  const init = (userId, token) => {\n    getPurchaseHistory(userId, token).then(data => {\n      try {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          setHistory(data);\n        }\n      } catch (error) {\n        throw console.error('error');\n      }\n    });\n  };\n\n  useEffect(() => {\n    init(_id, token);\n  }, []);\n\n  const userLinks = () => {\n    return React.createElement(LeftPanelCustomerComponent, {\n      user: _id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    });\n  };\n\n  const userInfo = () => {\n    return React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"User Information\"), React.createElement(\"ul\", {\n      className: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"User Name : \", name), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"User Email: \", email), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"User Role \", role === 1 ? \"Admin\" : \"Registered User\"), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"User Phone Number: 8981865587\"), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"User Status: Active\"), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"User Address: 14.7 KM to Netaji Subhash Chandra Bose International Airport\")), React.createElement(\"button\", {\n      className: \"btn btn-site-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Update Profile\"));\n  };\n\n  const purchaseHistory = history => {\n    return React.createElement(\"div\", {\n      className: \"card mb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Purchase history\"), React.createElement(\"ul\", {\n      className: \"list-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, history.map((h, i) => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), h.products.map((p, i) => {\n        return React.createElement(\"div\", {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"Product name: \", p.name), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, \"Product price: $\", p.price), React.createElement(\"h6\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \"Purchased date:\", \" \", moment(p.createdAt).fromNow()));\n      }));\n    }))));\n  };\n\n  return React.createElement(Layout, {\n    title: \"Dashboard\",\n    description: \"G'day \".concat(name, \"!\"),\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, userLinks()), React.createElement(\"div\", {\n    className: \"col-9 admin-dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, userInfo())));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/anantkumar32/Desktop/bango/bango-shopping/ecommerce-front/src/user/UserDashboard.js"],"names":["React","useState","useEffect","Layout","isAuthenticated","Link","getPurchaseHistory","moment","LeftPanelCustomerComponent","setUserId","useDispatch","Dashboard","history","setHistory","dispatch","user","_id","name","email","role","token","init","userId","then","data","error","console","log","userLinks","userInfo","purchaseHistory","map","h","i","products","p","price","createdAt","fromNow"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { getPurchaseHistory } from \"./apiUser\";\nimport moment from \"moment\";\nimport LeftPanelCustomerComponent from '../utils/LeftPanelCustomerComponent';\nimport { setUserId } from \"../redux/action\";\nimport {useDispatch} from 'react-redux';\nimport '../user/userCSS/admindasboard.css'\n\nconst Dashboard = () => {\n    const [history, setHistory] = useState([]);\n    const dispatch = useDispatch();\n\n    const {\n        user: { _id, name, email, role }\n    } = isAuthenticated();\n    const token = isAuthenticated().token;\n\n    const init = (userId, token) => {\n        getPurchaseHistory(userId, token).then(data => {\n            try{\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                setHistory(data);\n            }\n        }catch(error){\n            throw console.error('error');\n        }\n        });\n    };\n\n    useEffect(() => {\n        init(_id, token);\n        \n    }, []);\n\n    const userLinks = () => {\n        return (\n            <LeftPanelCustomerComponent user={_id}/>\n        );\n    };\n\n    const userInfo = () => {\n        return (\n            <>\n            <h2 className=\"card-header\">User Information</h2>\n            <ul className=\"list-group\">\n                <li className=\"list-group-item\">User Name : {name}</li>\n                <li className=\"list-group-item\">User Email: {email}</li>\n                <li className=\"list-group-item\">\n                    User Role {role === 1 ? \"Admin\" : \"Registered User\"}\n                </li>\n                <li className=\"list-group-item\">\n                    User Phone Number: 8981865587\n                </li>\n                <li className=\"list-group-item\">User Status: Active</li>\n                <li className=\"list-group-item\">User Address: 14.7 KM to Netaji Subhash Chandra Bose International Airport</li>\n            </ul>\n            <button className=\"btn btn-site-button\">Update Profile</button>\n            </>\n        );\n    };\n\n    const purchaseHistory = history => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">Purchase history</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        {history.map((h, i) => {\n                            return (\n                                <div>\n                                    <hr />\n                                    {h.products.map((p, i) => {\n                                        return (\n                                            <div key={i}>\n                                                <h6>Product name: {p.name}</h6>\n                                                <h6>\n                                                    Product price: ${p.price}\n                                                </h6>\n                                                <h6>\n                                                    Purchased date:{\" \"}\n                                                    {moment(\n                                                        p.createdAt\n                                                    ).fromNow()}\n                                                </h6>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            );\n                        })}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    return (\n        <Layout\n            title=\"Dashboard\"\n            description={`G'day ${name}!`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-3\">{userLinks()}</div>\n                <div className=\"col-9 admin-dashboard\">\n                    {userInfo()}\n                    {/* {purchaseHistory(history)} */}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}